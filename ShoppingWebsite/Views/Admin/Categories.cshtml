@using Shopping.Data
@using ShoppingWebsite.Models
@model CategoriesViewModel

@{
    ViewBag.Title = "Categories";
}

<h2>Categories</h2>
<div>
    <button class="btn btn-success" id="show-add-modal">Add Category</button>
</div>
<div class="row">
    <div class="col-md-6 col-md-offset-3">
        <table class="table table-hover table-bordered table-striped">
            <tr>
                <th>Category Name</th>
                <th>Actions</th>
            </tr>
            @foreach (Category c in Model.Categories)
            {
                <tr>
                    <td id="category-name-@c.Id">
                        @c.Name
                        @*<input type="text" class="form-control category-name-input" />*@
                    </td>
                    <td id="category-actions-@c.Id">
                        @if (c.Products.Count == 0)
                        {
                            <button class="btn btn-danger delete" data-id="@c.Id">Delete</button>
                        }
                        @*<button hidden="hidden" class="btn btn-warning update" >Update</button>*@
                        <button class="btn btn-primary edit" data-name="@c.Name" data-id="@c.Id">Edit</button>
                    </td>
                </tr>
            }
        </table>
    </div>
</div>
<div class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Add Category</h4>
                </div>
                <div class="modal-body">
                    <p>
                        <input type="text" class="form-control" placeholder="Category Name" id="name" />
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="add">Add</button>
                </div>
            </div><!-- /.modal-content -->

    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
@section scripts
{
    <script src="/Scripts/Categories.js"></script>
}